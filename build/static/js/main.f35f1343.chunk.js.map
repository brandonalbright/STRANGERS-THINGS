{"version":3,"sources":["components/Header.js","api/index.js","components/Login.js","components/CreateNewPost.js","components/CreateNewMessage.js","components/EditPost.js","components/Posts.js","components/Message.js","components/MyPosts.js","components/App.js","index.js"],"names":["Header","props","isLoggedIn","setIsLoggedIn","clearToken","setSearchTerm","postList","setPostList","searchTerm","isRecent","setIsRecent","className","to","src","alt","type","checked","onChange","event","target","value","placeholder","onClick","BASE_URL","getToken","localStorage","getItem","removeItem","setToken","token","setItem","buildHeaders","base","auth","username","password","a","isNew","url","fetch","method","headers","body","JSON","stringify","user","response","json","error","data","Error","message","hitAPI","endpoint","bodyObj","payload","Login","history","useHistory","console","log","useState","setUsername","setPassword","errorMessage","setErrorMessage","onSubmit","preventDefault","push","CreateNewMessage","addNewPost","description","setDescription","title","setTitle","price","setPrice","location","setLocation","willDeliver","setWillDeliver","isDirty","setIsDirty","id","e","length","postData","post","result","document","getElementById","style","display","color","postId","textValue","setTextValue","objBody","content","EditPost","updatePost","Posts","wantsToReply","setReply","isModifyPost","setIsModifyPost","map","index","border","isAuthor","createdAt","author","_id","Button","variant","fullWidth","Message","filteredMyPosts","filter","messages","fromUser","MyPosts","App","filteredPosts","toLowerCase","includes","Date","parse","now","reverse","updatedPost","findIndex","postListCopy","useEffect","then","posts","catch","path","newPost","ReactDOM","render"],"mappings":"oVAyFeA,MApFf,SAAgBC,GAAQ,IAEpBC,EASED,EATFC,WACAC,EAQEF,EARFE,cACAC,EAOEH,EAPFG,WAIAC,GAGEJ,EANFK,SAMEL,EALFM,YAKEN,EAJFO,WAIEP,EAHFI,eACAI,EAEER,EAFFQ,SACAC,EACET,EADFS,YAGF,OACE,sBAAKC,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,cACVE,IAAI,kCACJC,IAAI,WAIR,sBAAKH,UAAU,gBAAf,UACE,wBAAOA,UAAU,kBAAjB,UACE,uBACEI,KAAK,WACLC,QAASP,EACTQ,SAAU,kBAAMP,GAAaD,MAJjC,uBAQA,uBACEM,KAAK,OACLJ,UAAU,qBACVM,SAAU,SAACC,GAAD,OAAWb,EAAca,EAAMC,OAAOC,QAChDC,YAAY,iBAEd,cAAC,IAAD,CAAYV,UAAU,yBAGxB,qBAAKA,UAAU,YAAf,SACGT,EACC,cAAC,IAAD,CAAMU,GAAG,SAASD,UAAU,cAA5B,SACE,sBACEW,QAAS,WACPlB,IACAD,GAAc,IAEhBQ,UAAU,kBALZ,sBAWF,cAAC,IAAD,CAAMC,GAAG,SAASD,UAAU,cAA5B,SACE,sBAAMA,UAAU,kBAAhB,gCAIN,sBAAKA,UAAU,iBAAf,UACE,cAAC,IAAD,CAAMC,GAAG,SAASD,UAAU,cAA5B,SACE,4CAEDT,EACC,cAAC,IAAD,CAAMU,GAAG,iBAAiBD,UAAU,cAApC,SACE,qDAEA,QAELT,EACC,sBAAKS,UAAU,kBAAf,UACE,cAAC,IAAD,CAAMC,GAAG,WAAWD,UAAU,cAA9B,SACE,8CAEF,cAAC,IAAD,CAAMC,GAAG,WAAWD,UAAU,cAA9B,SACE,iDAGF,S,uBCpFJY,EAAW,gEAEJC,EAAW,WACtB,GAAIC,aAAaC,QAAQ,cACvB,OAAOD,aAAaC,QAAQ,cAE5BD,aAAaE,WAAW,eAIfvB,EAAa,WACxBqB,aAAaE,WAAW,eAGpBC,EAAW,SAACC,GAChBJ,aAAaK,QAAQ,aAAcD,IAGrC,SAASE,IACP,IAAIC,EAAO,CACT,eAAgB,oBAOlB,OAJIR,MACFQ,EAAI,cAAJ,iBAAkCR,MAG7BQ,EAGF,IAAMC,EAAI,uCAAG,WAAOC,EAAUC,GAAjB,qCAAAC,EAAA,6DAA2BC,EAA3B,gCACZC,EAAM,UAAGf,EAAH,WAAuBc,EAAQ,YAAc,UADvC,SAGKE,MAAMD,EAAK,CAChCE,OAAQ,OACRC,QAASV,IACTW,KAAMC,KAAKC,UAAU,CACnBC,KAAM,CACJX,SAAUA,EACVC,SAAUA,OATE,cAGZW,EAHY,gBAcYA,EAASC,OAdrB,mBAcVC,EAdU,EAcVA,MAAOC,EAdG,EAcHA,MAEXD,EAhBc,uBAiBVE,MAAMF,EAAMG,SAjBF,eAoBdF,GAAQA,EAAKpB,OACfD,EAASqB,EAAKpB,OArBE,kBAwBXoB,GAxBW,4CAAH,wDA2BJG,EAAM,uCAAG,WAAOZ,EAAQa,EAAUC,GAAzB,uBAAAlB,EAAA,6DACdmB,EAAU,CACdf,OAAQA,EACRC,QAASV,KAGPuB,IACFC,EAAQb,KAAOC,KAAKC,UAAUU,IAPZ,SAUGf,MAAM,GAAD,OAAIhB,GAAJ,OAAe8B,GAAYE,GAVnC,cAUdT,EAVc,gBAYUA,EAASC,OAZnB,mBAYZC,EAZY,EAYZA,MAAOC,EAZK,EAYLA,MAEXD,EAdgB,uBAeZE,MAAMF,EAAMG,SAfA,eAkBhBF,GAAQA,EAAKpB,OACfD,EAASqB,EAAKpB,OAnBI,kBAsBboB,GAtBa,4CAAH,0D,MCqCJO,MArFf,SAAevD,GAAQ,IACbE,EAAkBF,EAAlBE,cACFsD,EAAUC,cAEhBC,QAAQC,IAAI3D,GAJQ,MAMY4D,mBAAS,IANrB,mBAMb3B,EANa,KAMH4B,EANG,OAOYD,mBAAS,IAPrB,mBAOb1B,EAPa,KAOH4B,EAPG,OAQoBF,mBAAS,MAR7B,mBAQbG,EARa,KAQCC,EARD,KAUpB,OACE,sBAAKtD,UAAU,QAAf,UACE,qBAAKA,UAAU,aAAf,SACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,cACVE,IAAI,kCACJC,IAAI,aAKV,sBAAKH,UAAU,kBAAf,UACE,yCACA,uBACEuD,SAAU,SAAChD,GACTA,EAAMiD,kBAFV,UAME,uCACCH,EAAe,oBAAIrD,UAAU,QAAd,SAAuBqD,IAAqB,KAC5D,uBACEjD,KAAK,OACLK,MAAOc,EACPjB,SAAU,SAACC,GAAD,OAAW4C,EAAY5C,EAAMC,OAAOC,QAC9CC,YAAY,aAEd,0CAEA,uBACEN,KAAK,WACLK,MAAOe,EACPlB,SAAU,SAACC,GAAD,OAAW6C,EAAY7C,EAAMC,OAAOC,QAC9CC,YAAY,aAEd,wBACEV,UAAU,oBACVW,QAAO,uCAAE,WAAOJ,GAAP,SAAAkB,EAAA,+EAEgBH,EAAKC,EAAUC,GAF/B,cAGLhC,GAAc,GACdsD,EAAQW,KAAK,UAJR,gDAMLH,EAAgB,KAAMd,SANjB,yDAAF,sDAFT,qBAcA,2DAGF,wBACExC,UAAU,qBACVW,QAAO,uCAAE,WAAOJ,GAAP,SAAAkB,EAAA,6DACPuB,QAAQC,IAAI,QADL,kBAIgB3B,EAAKC,EAAUC,GAAU,GAJzC,cAKLhC,GAAc,GACdsD,EAAQW,KAAK,UANR,gDAQLH,EAAgB,KAAMd,SARjB,yDAAF,sDAFT,iCAgBA,qE,sBC0BOkB,MA7Gf,SAA0BpE,GAAQ,IACxBqE,EAAerE,EAAfqE,WADuB,EAEOT,mBAAS5D,EAAMsE,aAAe,IAFrC,mBAExBA,EAFwB,KAEXC,EAFW,OAGLX,mBAAS5D,EAAMwE,OAAS,IAHnB,mBAGxBA,EAHwB,KAGjBC,EAHiB,OAILb,mBAAS5D,EAAM0E,OAAS,IAJnB,mBAIxBA,EAJwB,KAIjBC,EAJiB,OAKCf,mBAAS5D,EAAM4E,UAAY,IAL5B,mBAKxBA,EALwB,KAKdC,EALc,OAMOjB,oBAAS,GANhB,mBAMxBkB,EANwB,KAMXC,EANW,KAOzBvB,EAAUC,cAPe,EAQDG,oBAAS,GARR,mBAQxBoB,EARwB,KAQfC,EARe,KAU/B,OACE,qBAAKC,GAAG,OAAOxE,UAAU,mBAAzB,SACE,uBACEuD,SAAQ,uCAAE,WAAOkB,GAAP,iBAAAhD,EAAA,yDACRlB,MAAMiD,iBAENe,GAAW,GAEU,IAAjBT,EAAMY,OALF,uBAMNH,GAAW,GANL,6BAUmB,IAAvBX,EAAYc,OAVR,uBAWNH,GAAW,GAXL,iCAcFI,EAAW,CACfC,KAAM,CACJd,MAAOA,EACPF,YAAaA,EACbI,MAAOA,EACPI,YAAaA,EACbF,SAAUA,IApBN,mBAyBezB,EAAO,OAAQ,SAAUkC,GAzBxC,QAyBAE,EAzBA,OA0BNlB,EAAWkB,EAAOD,MAClB5B,QAAQC,IAAI4B,GA3BN,kDA6BN7B,QAAQX,MAAR,MA7BM,QA+BRwB,EAAe,IACfI,EAAS,IACTF,EAAS,IACTM,EAAe,IACfF,EAAY,IACZW,SAASC,eAAe,QAAQC,MAAMC,QAAU,OAChDnC,EAAQW,KAAK,UArCL,0DAAF,sDADV,UAyCE,wCACA,uBACEhD,MAAOqD,EACPxD,SAAU,SAACC,GACTwD,EAASxD,EAAMC,OAAOC,QAExBL,KAAK,SAENkE,GAA4B,IAAjBR,EAAMY,OAChB,oBAAIM,MAAO,CAAEE,MAAO,OAApB,8BACE,KACJ,8CACA,0BACEzE,MAAOmD,EACPtD,SAAU,SAACmE,GACTZ,EAAeY,EAAEjE,OAAOC,QAE1BL,KAAK,SAENkE,GAAkC,IAAvBV,EAAYc,OACtB,oBAAIM,MAAO,CAAEE,MAAO,OAApB,oCACE,KACJ,uCAEA,uBACEzE,MAAOuD,EACP1D,SAAU,SAACmE,GACTR,EAASQ,EAAEjE,OAAOC,QAEpBL,KAAK,SAGP,0CACA,uBACEM,YAAY,yCACZD,MAAOyD,EACP5D,SAAU,SAACC,GACT4D,EAAY5D,EAAMC,OAAOC,QAE3BL,KAAK,SAGP,8CACA,uBACEK,MAAO2D,EACP9D,SAAU,SAACC,GACT8D,GAAgBD,IAElBhE,KAAK,aAEP,mD,MCtEOsD,MAlCf,SAA0BpE,GAAQ,IACxB6F,EAAW7F,EAAX6F,OADuB,EAGGjC,mBAAS,IAHZ,mBAGxBkC,EAHwB,KAGbC,EAHa,KAK/B,OACE,qBAAMb,GAAG,eAAexE,UAAU,cAAlC,SACE,uBACEuD,SAAQ,uCAAE,WAAOhD,EAAOqE,GAAd,eAAAnD,EAAA,6DACRlB,EAAMiD,iBACA8B,EAAU,CACd9C,QAAS,CACP+C,QAASH,IAJL,SAOa3C,EACnB,OADyB,iBAEf0C,EAFe,aAGzBG,GAVM,cAYRD,EAAa,IACbP,SAASC,eAAe,gBAAgBC,MAAMC,QAAU,OAbhD,2CAAF,wDADV,UAiBE,0BACExE,MAAO2E,EACP9E,SAAU,SAACC,GAAD,OAAW8E,EAAa9E,EAAMC,OAAOC,UAEjD,gD,iBC2EO+E,MArGf,SAAkBlG,GAAQ,IAAD,EACe4D,mBAAS5D,EAAMsE,aAAe,IAD7C,mBAChBA,EADgB,KACHC,EADG,OAEGX,mBAAS5D,EAAMwE,OAAS,IAF3B,mBAEhBA,EAFgB,KAETC,EAFS,OAGGb,mBAAS5D,EAAM0E,OAAS,IAH3B,mBAGhBA,EAHgB,KAGTC,EAHS,OAISf,mBAAS5D,EAAM4E,UAAY,IAJpC,mBAIhBA,EAJgB,KAINC,EAJM,OAKejB,mBAAS5D,EAAM8E,cAAe,GAL7C,mBAKhBA,EALgB,KAKHC,EALG,KAMjBvB,EAAUC,cACRoC,EAAW7F,EAAX6F,OACaM,GAAenG,EAA5BM,YAA4BN,EAAfmG,YAErB,OACE,qBAAKjB,GAAG,OAAOxE,UAAU,mBAAzB,SACE,uBACEuD,SAAQ,uCAAE,WAAOkB,GAAP,iBAAAhD,EAAA,6DACRlB,MAAMiD,iBAEAmB,EAAW,CACfC,KAAM,CACJd,MAAOA,EACPF,YAAaA,EACbI,MAAOA,EACPI,YAAaA,EACbF,SAAUA,IATN,kBAcezB,EAAO,QAAD,iBAAoB0C,GAAUR,GAdnD,OAcAE,EAdA,OAgBN7B,QAAQC,IAAI4B,GAEZY,EAAWZ,EAAOD,MAlBZ,kDAoBN5B,QAAQX,MAAR,MApBM,QAuBRwB,EAAe,IACfI,EAAS,IACTF,EAAS,IACTM,GAAe,GACfF,EAAY,IACZW,SAASC,eAAe,QAAQC,MAAMC,QAAU,OAChDnC,EAAQW,KAAK,UA7BL,0DAAF,sDADV,UAiCE,cAAC,IAAD,CACE9C,QAAS,WACPmE,SAASC,eAAe,QAAQC,MAAMC,QAAU,OAChDnC,EAAQW,KAAK,aAGjB,wCACA,uBACEhD,MAAOqD,EACPxD,SAAU,SAACC,GACTwD,EAASxD,EAAMC,OAAOC,QAExBL,KAAK,SAEP,8CACA,0BACEK,MAAOmD,EACPtD,SAAU,SAACmE,GACTZ,EAAeY,EAAEjE,OAAOC,QAE1BL,KAAK,SAEP,uCAEA,uBACEK,MAAOuD,EACP1D,SAAU,SAACmE,GACTR,EAASQ,EAAEjE,OAAOC,QAEpBL,KAAK,SAGP,0CACA,uBACEK,MAAOyD,EACP5D,SAAU,SAACC,GACT4D,EAAY5D,EAAMC,OAAOC,QAE3BL,KAAK,SAGP,8CACA,uBACEK,MAAO2D,EACP9D,SAAU,SAACC,GACT8D,GAAgBD,IAElBhE,KAAK,WACLJ,UAAU,sBAEZ,kDCaO0F,MAtGf,SAAepG,GAAQ,IACbK,EAA8DL,EAA9DK,SAAUC,EAAoDN,EAApDM,YAAaL,EAAuCD,EAAvCC,WAAYkG,EAA2BnG,EAA3BmG,WADvB,GACkDnG,EAAfqE,WAEtBT,mBAAS,KAHtB,mBAGbyC,EAHa,KAGCC,EAHD,OAKoB1C,mBAAS,IAL7B,mBAKb2C,EALa,KAKCC,EALD,KAOpB,OACE,qBAAKtB,GAAG,QAAR,SACG7E,EAASoG,KAAI,SAACnB,EAAMoB,GACnB,OACE,sBACExB,GAAG,YAEHQ,MAAO,CACLiB,OACErB,EAAKsB,UAAY3G,EACb,iBACA,+BAPV,UAUE,sBAAKS,UAAU,aAAf,UACE,+BACG4E,EAAKd,MADR,KACiBc,EAAKV,SADtB,MACmCU,EAAKuB,UADxC,OAGA,gDAAmBvB,EAAKZ,YAE1B,sBAAKhE,UAAU,eAAf,UACE,+CAAkB4E,EAAKhB,eACvB,sDAAyBgB,EAAKR,YAAc,MAAQ,QACpD,6CAAgBQ,EAAKwB,OAAO7E,eAE7BoE,IAAiBf,EAAKyB,IACrB,cAAC,EAAD,CACElB,OAAQP,EAAKyB,IACbV,aAAcA,EACdC,SAAUA,IAEV,KACHC,IAAiBjB,EAAKyB,IACrB,cAAC,EAAD,CACEvC,MAAOc,EAAKd,MACZF,YAAagB,EAAKhB,YAClBI,MAAOY,EAAKZ,MACZE,SAAUU,EAAKV,SACfE,YAAaQ,EAAKR,YAClBe,OAAQP,EAAKyB,IACbZ,WAAYA,IAEZ,KAEJ,qBAAKzF,UAAU,UAAf,SACG4E,EAAKsB,SACJ,eAAC,WAAD,WACE,cAACI,EAAA,EAAD,CACE3F,QAAO,sBAAE,sBAAAc,EAAA,+EAEcgB,EACjB,SADuB,iBAEbmC,EAAKyB,MAJZ,cAOLzG,EAAY,YAAID,IAPX,gDASLqD,QAAQX,MAAR,MATK,yDAYTkE,QAAQ,WACRrB,MAAM,YACNsB,WAAS,EAfX,oBAmBA,cAACF,EAAA,EAAD,CACE3F,QAAS,WACPmF,EAAgBlB,EAAKyB,MAEvBE,QAAQ,WACRrB,MAAM,YACNsB,WAAS,EANX,qBAWAjH,EACF,cAAC+G,EAAA,EAAD,CACE3F,QAAS,kBAAMiF,EAAShB,EAAKyB,MAC7BE,QAAQ,WACRrB,MAAM,UACNsB,WAAS,EAJX,4BAQE,SAhFDR,S,MCMFS,MA5Bf,SAAiBnH,GAAQ,IACfK,EAAaL,EAAbK,SACR,SAAS+G,IAIP,OAHAA,EAAkB/G,EAASgH,QAAO,SAAC/B,GACjC,OAAOA,EAAKsB,YAIhB,OAAOQ,IAAkBX,KAAI,SAACnB,EAAMoB,GAClC,OAAIpB,EAAKgC,SAASlC,OAAS,EAEvB,sBAAK1E,UAAU,oBAAf,UACE,qBAAIA,UAAU,gBAAd,gCAAkD4E,EAAKd,SACtDc,EAAKgC,SAASb,KAAI,SAACvD,EAASwD,GAC3B,OACE,oBAAGhG,UAAU,YAAb,UACE,mCAASgG,EAAQ,EAAjB,QADF,IACkCxD,EAAQ+C,QAAS,IACjD,6CAFF,IAE4B/C,EAAQqE,SAAStF,WAFfyE,QAJIA,GAanC,SCPEc,MAjBf,SAAiBxH,GAAQ,IACfK,EAA0BL,EAA1BK,SAER,SAAS+G,IAIP,OAHwB/G,EAASgH,QAAO,SAAC/B,GACvC,OAAOA,EAAKsB,YAKhB,OATkC5G,EAAhBM,YAUhB,mCACE,cAAC,EAAD,CAAOD,SAAU+G,IAAmB9G,YAAa8G,SCuJxCK,MAzJf,WAAgB,IAAD,EACuB7D,qBAAWrC,KADlC,mBACNtB,EADM,KACMC,EADN,OAEmB0D,mBAAS,IAF5B,mBAENvD,EAFM,KAEIC,EAFJ,OAIuBsD,mBAAS,IAJhC,mBAINrD,EAJM,KAIMH,EAJN,OAKmBwD,oBAAS,GAL5B,mBAKNpD,EALM,KAKIC,EALJ,KAWb,SAASiH,IAiBP,OAhBkCrH,EAASgH,QAAO,SAAC/B,GACjD,OAAOA,EAAKd,MAAMmD,cAAcC,SAASrH,EAAWoH,kBAGRN,QAAO,SAAC/B,GACpD,IAAK9E,EACH,OAAO,EAOT,OAJiBqH,KAAKC,MAAMxC,EAAKuB,WAEb,OADJgB,KAAKE,SAMJC,UAGrB,SAAS7B,EAAW8B,GAClB,IAAIvB,EAAQrG,EAAS6H,WAAU,SAAC5C,GAC9B,OAAOA,EAAKyB,MAAQkB,EAAYlB,OAGlC,GAAIL,GAAS,EAAG,CACd,IAAIyB,EAAY,YAAO9H,GACvB8H,EAAazB,GAASuB,EACtB3H,EAAY6H,IAahB,OATAC,qBAAU,WACRjF,EAAO,MAAO,UACXkF,MAAK,SAACrF,GAAU,IACPsF,EAAUtF,EAAVsF,MACRhI,EAAYgI,MAEbC,MAAM7E,QAAQX,SAChB,CAAC9C,IAGF,cAAC,IAAD,UACE,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuI,KAAK,SAAZ,SACE,cAAC,EAAD,CAAOtI,cAAeA,MAExB,eAAC,IAAD,CAAOsI,KAAK,SAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,EACZE,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZH,cAAeA,EACfI,SAAUA,EACVC,YAAaA,IAGf,cAAC,EAAD,CACEJ,SAAUqH,IACVpH,YAAaA,EACbL,WAAYA,EACZkG,WAAYA,OAGhB,eAAC,IAAD,CAAOqC,KAAK,WAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,EACZE,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZH,cAAeA,EACfI,SAAUA,EACVC,YAAaA,IAGf,cAAC,EAAD,CAAkBJ,SAAUA,OAE9B,eAAC,IAAD,CAAOmI,KAAK,WAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,EACZE,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZH,cAAeA,EACfI,SAAUA,EACVC,YAAaA,IAEf,cAAC,EAAD,CAASJ,SAAUA,OAErB,eAAC,IAAD,CAAOmI,KAAK,WAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,EACZE,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZH,cAAeA,EACfI,SAAUA,EACVC,YAAaA,IAGf,cAAC,EAAD,CACEJ,SAAUqH,IACVzH,WAAYA,EACZK,YAAaoH,OAGjB,eAAC,IAAD,CAAOc,KAAK,iBAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,IAEd,cAAC,EAAD,CAAekE,WA9HzB,SAAoBoE,GAClB,OAAOnI,EAAY,GAAD,mBAAKD,GAAL,CAAeoI,WA+H3B,eAAC,IAAD,CAAOD,KAAK,IAAZ,UACE,cAAC,EAAD,CACEvI,WAAYA,EACZC,cAAeA,EACfC,WAAYA,IAEd,cAAC,EAAD,CACEE,SAAUqH,IACVpH,YAAaA,EACbL,WAAYA,EACZkG,WAAYA,eC1J1BuC,IAASC,OAAO,cAAC,EAAD,IAASnD,SAASC,eAAe,U","file":"static/js/main.f35f1343.chunk.js","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react'\nimport './Header.css'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { Link, useHistory } from 'react-router-dom'\n\nfunction Header(props) {\n  const {\n    isLoggedIn,\n    setIsLoggedIn,\n    clearToken,\n    postList,\n    setPostList,\n    searchTerm,\n    setSearchTerm,\n    isRecent,\n    setIsRecent,\n  } = props\n\n  return (\n    <nav className=\"header\">\n      <Link to=\"/\">\n        <img\n          className=\"header-logo\"\n          src=\"https://i.imgur.com/vrQimP1.png\"\n          alt=\"logo\"\n        />\n      </Link>\n\n      <div className=\"header-search\">\n        <label className=\"header-checkbox\">\n          <input\n            type=\"checkbox\"\n            checked={isRecent}\n            onChange={() => setIsRecent(!isRecent)}\n          />\n          Recent Posts Only\n        </label>\n        <input\n          type=\"text\"\n          className=\"header_searchInput\"\n          onChange={(event) => setSearchTerm(event.target.value)}\n          placeholder=\"filter posts\"\n        />\n        <SearchIcon className=\"header-searchIcon\" />\n      </div>\n\n      <div className=\"headerNav\">\n        {isLoggedIn ? (\n          <Link to=\"/posts\" className=\"header-link\">\n            <span\n              onClick={() => {\n                clearToken()\n                setIsLoggedIn(false)\n              }}\n              className=\"headerOpt-line2\"\n            >\n              Logout\n            </span>\n          </Link>\n        ) : (\n          <Link to=\"/login\" className=\"header-link\">\n            <span className=\"headerOpt-line2\">SignIn/Sign Up</span>\n          </Link>\n        )}\n      </div>\n      <div className=\"headermessages\">\n        <Link to=\"/posts\" className=\"header-link\">\n          <span> Posts</span>\n        </Link>\n        {isLoggedIn ? (\n          <Link to=\"/createNewPost\" className=\"header-link\">\n            <span>Create New Post</span>\n          </Link>\n        ) : null}\n      </div>\n      {isLoggedIn ? (\n        <div className=\"header-messages\">\n          <Link to=\"/message\" className=\"header-link\">\n            <span>Messages</span>\n          </Link>\n          <Link to=\"/myposts\" className=\"header-link\">\n            <span>My Posts</span>\n          </Link>\n        </div>\n      ) : null}\n    </nav>\n  )\n}\n\nexport default Header\n","const BASE_URL = 'https://strangers-things.herokuapp.com/api/2007-LSU-RM-WEB-PT'\n\nexport const getToken = () => {\n  if (localStorage.getItem('auth-token')) {\n    return localStorage.getItem('auth-token')\n  } else {\n    localStorage.removeItem('auth-token')\n  }\n}\n\nexport const clearToken = () => {\n  localStorage.removeItem('auth-token')\n}\n\nconst setToken = (token) => {\n  localStorage.setItem('auth-token', token)\n}\n\nfunction buildHeaders() {\n  let base = {\n    'Content-Type': 'application/json',\n  }\n\n  if (getToken()) {\n    base['Authorization'] = `Bearer ${getToken()}`\n  }\n\n  return base\n}\n\nexport const auth = async (username, password, isNew = false) => {\n  const url = `${BASE_URL}/users` + (isNew ? '/register' : '/login')\n\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: buildHeaders(),\n    body: JSON.stringify({\n      user: {\n        username: username,\n        password: password,\n      },\n    }),\n  })\n\n  const { error, data } = await response.json()\n\n  if (error) {\n    throw Error(error.message)\n  }\n\n  if (data && data.token) {\n    setToken(data.token)\n  }\n\n  return data\n}\n\nexport const hitAPI = async (method, endpoint, bodyObj) => {\n  const payload = {\n    method: method,\n    headers: buildHeaders(),\n  }\n\n  if (bodyObj) {\n    payload.body = JSON.stringify(bodyObj)\n  }\n\n  const response = await fetch(`${BASE_URL}${endpoint}`, payload)\n\n  const { error, data } = await response.json()\n\n  if (error) {\n    throw Error(error.message)\n  }\n\n  if (data && data.token) {\n    setToken(data.token)\n  }\n\n  return data\n}\n","import React, { useState, Fragment } from 'react'\nimport loginUser from '../api/index'\n\nimport { Link, useHistory } from 'react-router-dom'\nimport { hitApi, auth } from '../api/index'\nimport './Login.css'\nimport { getToken, setToken, clearToken } from '../api/index'\nimport Header from './Header'\n\nfunction Login(props) {\n  const { setIsLoggedIn } = props\n  const history = useHistory()\n\n  console.log(props)\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  return (\n    <div className=\"login\">\n      <div className=\"logo-login\">\n        <Link to=\"/\">\n          <img\n            className=\"header-logo\"\n            src=\"https://i.imgur.com/vrQimP1.png\"\n            alt=\"logo\"\n          />\n        </Link>\n      </div>\n\n      <div className=\"login-container\">\n        <h1>Sign In</h1>\n        <form\n          onSubmit={(event) => {\n            event.preventDefault()\n            \n          }}\n        >\n          <h5>Email</h5>\n          {errorMessage ? <h5 className=\"error\">{errorMessage}</h5> : null}\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"username\"\n          />\n          <h5>Password</h5>\n\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"password\"\n          />\n          <button\n            className=\"login-siginbutton\"\n            onClick={async (event) => {\n              try {\n                const result = await auth(username, password)\n                setIsLoggedIn(true)\n                history.push('/posts')\n              } catch (error) {\n                setErrorMessage(error.message)\n              }\n            }}\n          >\n            Sign In\n          </button>\n          <h5>Have Account? Sign In!</h5>\n        </form>\n\n        <button\n          className=\"login-createbutton\"\n          onClick={async (event) => {\n            console.log(123455)\n\n            try {\n              const result = await auth(username, password, true)\n              setIsLoggedIn(true)\n              history.push('/posts')\n            } catch (error) {\n              setErrorMessage(error.message)\n            }\n          }}\n        >\n          Create your account\n        </button>\n        <h5>Don't have account? Sign Up!</h5>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport './CreateNewPost.css'\nimport { hitAPI } from '../api/index'\nimport { useHistory } from 'react-router-dom'\n\nfunction CreateNewMessage(props) {\n  const { addNewPost } = props\n  const [description, setDescription] = useState(props.description || '')\n  const [title, setTitle] = useState(props.title || '')\n  const [price, setPrice] = useState(props.price || '')\n  const [location, setLocation] = useState(props.location || '')\n  const [willDeliver, setWillDeliver] = useState(false)\n  const history = useHistory()\n  const [isDirty, setIsDirty] = useState(false)\n\n  return (\n    <div id=\"form\" className=\"createNewMessage\">\n      <form\n        onSubmit={async (e) => {\n          event.preventDefault()\n\n          setIsDirty(true)\n\n          if (title.length === 0) {\n            setIsDirty(true)\n            return\n          }\n\n          if (description.length === 0) {\n            setIsDirty(true)\n            return\n          }\n          const postData = {\n            post: {\n              title: title,\n              description: description,\n              price: price,\n              willDeliver: willDeliver,\n              location: location,\n            },\n          }\n\n          try {\n            const result = await hitAPI('POST', '/posts', postData)\n            addNewPost(result.post)\n            console.log(result)\n          } catch (error) {\n            console.error(error)\n          }\n          setDescription('')\n          setPrice('')\n          setTitle('')\n          setWillDeliver('')\n          setLocation('')\n          document.getElementById('form').style.display = 'none'\n          history.push('/posts')\n        }}\n      >\n        <h3>Title:</h3>\n        <input\n          value={title}\n          onChange={(event) => {\n            setTitle(event.target.value)\n          }}\n          type=\"text\"\n        />\n        {isDirty && title.length === 0 ? (\n          <h3 style={{ color: 'red' }}>You need a title</h3>\n        ) : null}\n        <h3>Description:</h3>\n        <textarea\n          value={description}\n          onChange={(e) => {\n            setDescription(e.target.value)\n          }}\n          type=\"text\"\n        />\n        {isDirty && description.length === 0 ? (\n          <h3 style={{ color: 'red' }}>You need a description</h3>\n        ) : null}\n        <h3>Price</h3>\n\n        <input\n          value={price}\n          onChange={(e) => {\n            setPrice(e.target.value)\n          }}\n          type=\"text\"\n        />\n\n        <h3>Location</h3>\n        <input\n          placeholder=\"location, leave blank for [On Request]\"\n          value={location}\n          onChange={(event) => {\n            setLocation(event.target.value)\n          }}\n          type=\"text\"\n        />\n\n        <h3>Will Deliver</h3>\n        <input\n          value={willDeliver}\n          onChange={(event) => {\n            setWillDeliver(!willDeliver)\n          }}\n          type=\"checkbox\"\n        />\n        <button>Post It</button>\n      </form>\n    </div>\n  )\n}\n\nexport default CreateNewMessage\n","import React, { useState } from 'react'\nimport './CreateNewMessage.css'\nimport { hitAPI } from '../api'\n\nfunction CreateNewMessage(props) {\n  const { postId } = props\n\n  const [textValue, setTextValue] = useState('')\n\n  return (\n    <div  id=\"message-form\" className=\"new-message\">\n      <form\n        onSubmit={async (event, post) => {\n          event.preventDefault()\n          const objBody = {\n            message: {\n              content: textValue,\n            },\n          }\n          const result = await hitAPI(\n            'POST',\n            `/posts/${postId}/messages`,\n            objBody,\n          )\n          setTextValue('')\n          document.getElementById('message-form').style.display = 'none'\n        }}\n      >\n        <textarea\n          value={textValue}\n          onChange={(event) => setTextValue(event.target.value)}\n        ></textarea>\n        <button>Send</button>\n      </form>\n    </div>\n  )\n}\n\nexport default CreateNewMessage\n","import React, { useState } from 'react'\nimport './CreateNewPost.css'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { useHistory } from 'react-router-dom'\nimport { hitAPI } from '../api'\n\nfunction EditPost(props) {\n  const [description, setDescription] = useState(props.description || '')\n  const [title, setTitle] = useState(props.title || '')\n  const [price, setPrice] = useState(props.price || '')\n  const [location, setLocation] = useState(props.location || '')\n  const [willDeliver, setWillDeliver] = useState(props.willDeliver || false)\n  const history = useHistory()\n  const { postId } = props\n  const { setPostList, updatePost } = props\n\n  return (\n    <div id=\"form\" className=\"createNewMessage\">\n      <form\n        onSubmit={async (e) => {\n          event.preventDefault()\n\n          const postData = {\n            post: {\n              title: title,\n              description: description,\n              price: price,\n              willDeliver: willDeliver,\n              location: location,\n            },\n          }\n\n          try {\n            const result = await hitAPI('PATCH', `/posts/${postId}`, postData)\n\n            console.log(result)\n\n            updatePost(result.post)\n          } catch (error) {\n            console.error(error)\n          }\n\n          setDescription('')\n          setPrice('')\n          setTitle('')\n          setWillDeliver(false)\n          setLocation('')\n          document.getElementById('form').style.display = 'none'\n          history.push('/posts')\n        }}\n      >\n        <CancelIcon\n          onClick={() => {\n            document.getElementById('form').style.display = 'none'\n            history.push('/posts')\n          }}\n        />\n        <h3>Title:</h3>\n        <input\n          value={title}\n          onChange={(event) => {\n            setTitle(event.target.value)\n          }}\n          type=\"text\"\n        />\n        <h3>Description:</h3>\n        <textarea\n          value={description}\n          onChange={(e) => {\n            setDescription(e.target.value)\n          }}\n          type=\"text\"\n        />\n        <h3>Price</h3>\n\n        <input\n          value={price}\n          onChange={(e) => {\n            setPrice(e.target.value)\n          }}\n          type=\"text\"\n        />\n\n        <h3>Location</h3>\n        <input\n          value={location}\n          onChange={(event) => {\n            setLocation(event.target.value)\n          }}\n          type=\"text\"\n        />\n\n        <h3>Will Deliver</h3>\n        <input\n          value={willDeliver}\n          onChange={(event) => {\n            setWillDeliver(!willDeliver)\n          }}\n          type=\"checkbox\"\n          className=\"create-post-check\"\n        />\n        <button>Update</button>\n      </form>\n    </div>\n  )\n}\n\nexport default EditPost\n","import zIndex from '@material-ui/core/styles/zIndex'\nimport React, { useState, Fragment } from 'react'\nimport './Posts.css'\nimport { Button } from '@material-ui/core'\nimport { hitAPI } from '../api'\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\nimport CreateNewPost from './CreateNewPost'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport CreateNewMessage from './CreateNewMessage'\nimport EditPost from './EditPost'\n\nfunction Posts(props) {\n  const { postList, setPostList, isLoggedIn, updatePost, addNewPost } = props\n\n  const [wantsToReply, setReply] = useState('')\n\n  const [isModifyPost, setIsModifyPost] = useState('')\n\n  return (\n    <div id=\"posts\">\n      {postList.map((post, index) => {\n        return (\n          <div\n            id=\"post-card\"\n            key={index}\n            style={{\n              border:\n                post.isAuthor && isLoggedIn\n                  ? '5px solid gold'\n                  : '2px solid rgb(156, 221, 156',\n            }}\n          >\n            <div className=\"card-title\">\n              <h3>\n                {post.title} ({post.location}) [{post.createdAt}]\n              </h3>\n              <h3>Posted Price: {post.price}</h3>\n            </div>\n            <div className=\"descriptions\">\n              <h5>Description: {post.description}</h5>\n              <h5>Delivery available: {post.willDeliver ? 'YES' : 'NO'}</h5>\n              <h5>Posted by: {post.author.username}</h5>\n            </div>\n            {wantsToReply === post._id ? (\n              <CreateNewMessage\n                postId={post._id}\n                wantsToReply={wantsToReply}\n                setReply={setReply}\n              />\n            ) : null}\n            {isModifyPost === post._id ? (\n              <EditPost\n                title={post.title}\n                description={post.description}\n                price={post.price}\n                location={post.location}\n                willDeliver={post.willDeliver}\n                postId={post._id}\n                updatePost={updatePost}\n              />\n            ) : null}\n\n            <div className=\"message\">\n              {post.isAuthor ? (\n                <Fragment>\n                  <Button\n                    onClick={async () => {\n                      try {\n                        const data = await hitAPI(\n                          'DELETE',\n                          `/posts/${post._id}`,\n                        )\n\n                        setPostList([...postList])\n                      } catch (err) {\n                        console.error(err)\n                      }\n                    }}\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    fullWidth\n                  >\n                    Delete\n                  </Button>\n                  <Button\n                    onClick={() => {\n                      setIsModifyPost(post._id)\n                    }}\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    fullWidth\n                  >\n                    Edit\n                  </Button>\n                </Fragment>\n              ) : isLoggedIn ? (\n                <Button\n                  onClick={() => setReply(post._id)}\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                >\n                  Message Seller\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Posts\n","import React from 'react'\nimport './Message.css'\n\nfunction Message(props) {\n  const { postList } = props\n  function filteredMyPosts() {\n    filteredMyPosts = postList.filter((post) => {\n      return post.isAuthor\n    })\n    return filteredMyPosts\n  }\n  return filteredMyPosts().map((post, index) => {\n    if (post.messages.length > 0) {\n      return (\n        <div className=\"incoming-messages\" key={index}>\n          <h4 className=\"message-title\">Messages for Post: {post.title}</h4>\n          {post.messages.map((message, index) => {\n            return (\n              <p className=\"message12\" key={index}>\n                <strong>{index + 1}. </strong> {message.content}{' '}\n                <strong> From: </strong> {message.fromUser.username}\n              </p>\n            )\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  })\n}\nexport default Message\n","import React, { useState } from 'react'\nimport Posts from './Posts'\n\nfunction MyPosts(props) {\n  const { postList, setPostList } = props\n\n  function filteredMyPosts() {\n    const filteredMyPosts = postList.filter((post) => {\n      return post.isAuthor\n    })\n    return filteredMyPosts\n  }\n\n  return (\n    <>\n      <Posts postList={filteredMyPosts()} setPostList={filteredMyPosts()} />\n    </>\n  )\n}\n\nexport default MyPosts\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom'\nimport Header from './Header'\nimport Login from './Login'\nimport Posts from './Posts'\nimport Message from './Message'\nimport MyPosts from './MyPosts'\nimport './Header.css'\nimport { getToken, clearToken } from '../api/index'\nimport { hitAPI, auth } from '../api/index'\nimport CreateNewPost from './CreateNewPost'\nimport CreateNewMessage from './CreateNewMessage'\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(!!getToken())\n  const [postList, setPostList] = useState([])\n\n  const [searchTerm, setSearchTerm] = useState('')\n  const [isRecent, setIsRecent] = useState(false)\n\n  function addNewPost(newPost) {\n    return setPostList([...postList, newPost])\n  }\n\n  function filteredPosts() {\n    const postsFilteredBySearchTerm = postList.filter((post) => {\n      return post.title.toLowerCase().includes(searchTerm.toLowerCase())\n    })\n\n    const recentPosts = postsFilteredBySearchTerm.filter((post) => {\n      if (!isRecent) {\n        return true\n      }\n\n      const postTime = Date.parse(post.createdAt)\n      const nowTime = Date.now()\n      const THREE_HOURS = 1000 * 60 * 60 * 3\n\n      return postTime + THREE_HOURS >= nowTime\n    })\n\n    return recentPosts.reverse()\n  }\n\n  function updatePost(updatedPost) {\n    let index = postList.findIndex((post) => {\n      return post._id === updatedPost._id\n    })\n\n    if (index > -1) {\n      let postListCopy = [...postList]\n      postListCopy[index] = updatedPost\n      setPostList(postListCopy)\n    }\n  }\n\n  useEffect(() => {\n    hitAPI('GET', '/posts')\n      .then((data) => {\n        const { posts } = data\n        setPostList(posts)\n      })\n      .catch(console.error)\n  }, [isLoggedIn])\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route path=\"/login\">\n            <Login setIsLoggedIn={setIsLoggedIn} />\n          </Route>\n          <Route path=\"/posts\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n              postList={postList}\n              setPostList={setPostList}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              isRecent={isRecent}\n              setIsRecent={setIsRecent}\n            />\n\n            <Posts\n              postList={filteredPosts()}\n              setPostList={setPostList}\n              isLoggedIn={isLoggedIn}\n              updatePost={updatePost}\n            />\n          </Route>\n          <Route path=\"/comment\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n              postList={postList}\n              setPostList={setPostList}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              isRecent={isRecent}\n              setIsRecent={setIsRecent}\n            />\n\n            <CreateNewMessage postList={postList} />\n          </Route>\n          <Route path=\"/message\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n              postList={postList}\n              setPostList={setPostList}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              isRecent={isRecent}\n              setIsRecent={setIsRecent}\n            />\n            <Message postList={postList} />\n          </Route>\n          <Route path=\"/myposts\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n              postList={postList}\n              setPostList={setPostList}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              isRecent={isRecent}\n              setIsRecent={setIsRecent}\n            />\n\n            <MyPosts\n              postList={filteredPosts()}\n              isLoggedIn={isLoggedIn}\n              setPostList={filteredPosts}\n            />\n          </Route>\n          <Route path=\"/createNewPost\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n            />\n            <CreateNewPost addNewPost={addNewPost} />\n          </Route>\n          <Route path=\"/\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              setIsLoggedIn={setIsLoggedIn}\n              clearToken={clearToken}\n            />\n            <Posts\n              postList={filteredPosts()}\n              setPostList={setPostList}\n              isLoggedIn={isLoggedIn}\n              updatePost={updatePost}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  )\n}\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('app'))\n"],"sourceRoot":""}